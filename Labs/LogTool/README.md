## 日志工具

### 功能描述

利用C++和Linux相关函数实现一个简单高效的日志工具。

### 实现思路

1. 同步写日志：在代码当前位置构建日志格式字符串，然后写入日志文件，会阻塞当前线程。

2. 单线程单缓冲区写日志：利用线程和锁在后台写入日志，不会阻塞主线程。但是单个缓冲区在每次加入日志和后台线程写入日志时都需要进行加锁，
加锁频率太大影响性能。

3. 单线程双缓冲区写日志：在单缓冲区基础上增加一个缓冲区，一个在主线程中用于添加日志，一个在后台线程用于写入日志，写入日志为单线程，多个线程同时操作一个文件
并不推荐，所以访问缓冲区不需要加锁，仅仅在交换两个缓冲区时需要进行同步。前台缓冲区可能有多个线程同时写入，可以采用原子操作实现无锁添加，减少加锁开销。
在交换前后缓冲区时，写入前台线程的操作都会自旋，直到缓冲区交换完成。

这里采用第三种方案实现。

### 相关函数

1. 时间处理相关函数

日志记录需要记录详细的系统时间，一般精确到毫秒甚至纳秒。

2. 文件操作

写入文件内容

3. 格式化相关函数

日志内容一般为一行行日志内容，每行有固定的格式，但是用户使用时不需要再指定格式，需要我们做好格式化。

4. 宏操作

日志文件需要包含文件行数、函数名、文件名等信息，C++提供了一些宏来获取，但是为了正确标识用户使用时的函数，通常使用需要提供宏版本，
用户在使用时宏展开，如果在我们的库函数内使用宏，则最终显示的函数名、行号等就会是我们库函数，而不是用户使用时的函数名和行号了。


### 示例

